<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GreenStream Energy - ETL Pipeline Design | Abdelrahman Gadallah</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
        background: #ffffff;
        color: #333333;
        line-height: 1.6;
        padding: 20px;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
      }

      /* Cover Page */
      .cover-page {
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        text-align: center;
        border-bottom: 2px solid #e0e0e0;
      }

      .cover-title {
        font-size: 3rem;
        font-weight: 700;
        color: #2c3e50;
        margin-bottom: 1rem;
      }

      .cover-subtitle {
        font-size: 1.5rem;
        color: #7f8c8d;
        margin-bottom: 3rem;
      }

      .cover-meta {
        display: flex;
        gap: 3rem;
        flex-wrap: wrap;
        justify-content: center;
      }

      .meta-item {
        text-align: center;
      }

      .meta-label {
        font-size: 0.85rem;
        color: #95a5a6;
        text-transform: uppercase;
        margin-bottom: 0.5rem;
      }

      .meta-value {
        font-size: 1.1rem;
        font-weight: 600;
        color: #2c3e50;
      }

      /* Sections */
      .section {
        margin: 4rem 0;
      }

      h1 {
        font-size: 2.5rem;
        color: #2c3e50;
        margin-bottom: 1.5rem;
        border-bottom: 3px solid #3498db;
        padding-bottom: 0.5rem;
      }

      h2 {
        font-size: 2rem;
        color: #2c3e50;
        margin: 3rem 0 1.5rem;
        border-left: 4px solid #3498db;
        padding-left: 1rem;
      }

      h3 {
        font-size: 1.5rem;
        color: #34495e;
        margin: 2rem 0 1rem;
      }

      p {
        margin: 1rem 0;
        color: #555555;
      }

      /* Cards */
      .card {
        background: #f8f9fa;
        border: 1px solid #e0e0e0;
        border-radius: 8px;
        padding: 2rem;
        margin: 1.5rem 0;
      }

      /* Code Blocks */
      .code-block {
        background: #f5f5f5;
        border: 1px solid #ddd;
        border-radius: 4px;
        padding: 1.5rem;
        font-family: 'Courier New', monospace;
        font-size: 0.9rem;
        overflow-x: auto;
        margin: 1.5rem 0;
        color: #333;
      }

      .code-block code {
        color: #e74c3c;
      }

      /* Architecture Flow */
      .architecture-flow {
        background: #fafafa;
        border: 1px solid #e0e0e0;
        border-radius: 8px;
        padding: 2rem;
        margin: 2rem 0;
      }

      .flow-item {
        background: #ffffff;
        border: 2px solid #3498db;
        border-radius: 6px;
        padding: 1.5rem;
        margin: 1rem 0;
      }

      .flow-item-title {
        font-weight: 700;
        color: #3498db;
        font-size: 1.1rem;
        margin-bottom: 0.5rem;
      }

      .flow-arrow {
        text-align: center;
        color: #3498db;
        font-size: 1.5rem;
        margin: 0.5rem 0;
      }

      .split-flow {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 2rem;
        margin: 2rem 0;
      }

      .flow-success {
        border-color: #27ae60;
      }

      .flow-error {
        border-color: #e74c3c;
      }

      /* Tables */
      table {
        width: 100%;
        border-collapse: collapse;
        margin: 1.5rem 0;
        background: #ffffff;
        border: 1px solid #e0e0e0;
      }

      th {
        background: #3498db;
        color: white;
        padding: 1rem;
        text-align: left;
        font-weight: 600;
      }

      td {
        padding: 1rem;
        border-top: 1px solid #e0e0e0;
        color: #555;
      }

      tbody tr:hover {
        background: #f8f9fa;
      }

      /* Phase Boxes */
      .phase-box {
        background: #ffffff;
        border-left: 4px solid #3498db;
        border: 1px solid #e0e0e0;
        border-left: 4px solid #3498db;
        border-radius: 4px;
        padding: 1.5rem;
        margin: 1.5rem 0;
      }

      .phase-ingestion {
        border-left-color: #3498db;
      }

      .phase-transform {
        border-left-color: #27ae60;
      }

      .phase-storage {
        border-left-color: #9b59b6;
      }

      .phase-archive {
        border-left-color: #f39c12;
      }

      .phase-consume {
        border-left-color: #e74c3c;
      }

      .phase-header {
        font-size: 1.2rem;
        font-weight: 700;
        margin-bottom: 1rem;
        color: #2c3e50;
      }

      .phase-time {
        font-size: 0.9rem;
        color: #7f8c8d;
        font-style: italic;
      }

      /* Tags */
      .tag {
        display: inline-block;
        padding: 0.4rem 0.8rem;
        background: #e8f4fd;
        border: 1px solid #3498db;
        border-radius: 4px;
        font-size: 0.85rem;
        color: #3498db;
        margin: 0.2rem;
      }

      .tag-success {
        background: #e8f8f0;
        border-color: #27ae60;
        color: #27ae60;
      }

      .tag-error {
        background: #fdeaea;
        border-color: #e74c3c;
        color: #e74c3c;
      }

      .tag-warning {
        background: #fef5e7;
        border-color: #f39c12;
        color: #f39c12;
      }

      /* Lists */
      ul, ol {
        margin: 1rem 0;
        padding-left: 2rem;
      }

      li {
        margin: 0.5rem 0;
        color: #555;
      }

      li strong {
        color: #2c3e50;
      }

      /* Highlight Box */
      .highlight-box {
        background: #e8f4fd;
        border: 1px solid #3498db;
        border-radius: 4px;
        padding: 1.5rem;
        margin: 1.5rem 0;
      }

      .highlight-title {
        font-size: 1.2rem;
        font-weight: 700;
        color: #2c3e50;
        margin-bottom: 1rem;
      }

      /* Author Section */
      .author-section {
        margin: 4rem 0;
        text-align: center;
        padding: 3rem;
        background: #f8f9fa;
        border: 1px solid #e0e0e0;
        border-radius: 8px;
      }

      .author-name {
        font-size: 2rem;
        font-weight: 700;
        color: #2c3e50;
        margin-bottom: 0.5rem;
      }

      .author-role {
        color: #7f8c8d;
        font-size: 1.1rem;
      }

      /* Footer */
      footer {
        margin-top: 4rem;
        padding: 2rem 0;
        border-top: 1px solid #e0e0e0;
        text-align: center;
        color: #7f8c8d;
      }

      /* Responsive */
      @media (max-width: 768px) {
        .cover-title {
          font-size: 2rem;
        }

        .cover-subtitle {
          font-size: 1.2rem;
        }

        .split-flow {
          grid-template-columns: 1fr;
        }

        h1 {
          font-size: 2rem;
        }

        h2 {
          font-size: 1.6rem;
        }
      }
    </style>
</head>
<body>
    <!-- COVER PAGE -->
    <div class="cover-page">
      <h1 class="cover-title">GreenStream Energy</h1>
      <div class="cover-subtitle">Serverless ETL Pipeline Design</div>
      
      <div class="cover-meta">
        <div class="meta-item">
          <div class="meta-label">Project Date</div>
          <div class="meta-value">December 2024</div>
        </div>
        <div class="meta-item">
          <div class="meta-label">Author</div>
          <div class="meta-value">Abdelrahman Gadallah</div>
        </div>
        <div class="meta-item">
          <div class="meta-label">Framework</div>
          <div class="meta-value">Data Science Design</div>
        </div>
      </div>
    </div>

    <div class="container">
      <!-- TASK A: ARCHITECTURE -->
      <section class="section">
        <h2>Task A: ETL Architecture Diagram</h2>
        
        <div class="highlight-box">
          <p>The following diagram illustrates the serverless event-driven architecture designed to process smart meter data from ingestion to analytics. This design handles <strong>4.8M daily readings</strong> from <strong>50,000+ smart meters</strong>.</p>
        </div>

        <div class="architecture-flow">
          <!-- Data Source -->
          <div class="flow-item">
            <div class="flow-item-title">üì• DATA SOURCE LAYER</div>
            <div>50,000 Smart Meters (CSV Output)</div>
          </div>

          <div class="flow-arrow">‚Üì</div>

          <!-- Raw Storage -->
          <div class="flow-item">
            <div class="flow-item-title">üíæ RAW DATA STORAGE</div>
            <div>Landing Zone (S3): /raw-data/YYYY-MM-DD/</div>
            <div style="font-size: 0.9rem; color: #7f8c8d; margin-top: 0.5rem;">Format: CSV (as-is) | Retention: 90 days</div>
          </div>

          <div class="flow-arrow">‚Üì [Event Trigger: New File]</div>

          <!-- Orchestration -->
          <div class="flow-item">
            <div class="flow-item-title">üîÑ ORCHESTRATION ENGINE</div>
            <div>File Validation ‚Ä¢ Routing Logic ‚Ä¢ Duplicate Detection</div>
          </div>

          <!-- Split Path -->
          <div class="split-flow">
            <!-- Success Path -->
            <div>
              <div class="flow-arrow" style="color: #27ae60;">‚Üì</div>
              <div class="tag tag-success">Valid File Path</div>
              
              <div class="flow-item flow-success">
                <div class="flow-item-title">‚öôÔ∏è TRANSFORMATION LAYER</div>
                <ul style="margin-top: 1rem; font-size: 0.9rem;">
                  <li>Extract & Parse CSV</li>
                  <li>Clean & Standardize Units</li>
                  <li>Validate & Enrich Data</li>
                  <li>Quality Scoring (A-F)</li>
                </ul>
                <div class="tag" style="margin-top: 1rem;">Retry: 3x exponential backoff</div>
              </div>

              <div class="flow-arrow" style="color: #27ae60;">‚Üì</div>

              <div class="flow-item flow-success">
                <div class="flow-item-title">üóÑÔ∏è STRUCTURED STORAGE (RDS)</div>
                <div style="margin-top: 0.8rem;">
                  <div class="tag">meter_readings</div>
                  <div class="tag">meter_metadata</div>
                  <div class="tag">data_quality_log</div>
                </div>
                <div style="font-size: 0.9rem; color: #7f8c8d; margin-top: 0.8rem;">Retention: 90 days | Idempotency: SHA256 keys</div>
              </div>
            </div>

            <!-- Failure Path -->
            <div>
              <div class="flow-arrow" style="color: #e74c3c;">‚Üì</div>
              <div class="tag tag-error">Invalid File Path</div>
              
              <div class="flow-item flow-error">
                <div class="flow-item-title">‚ö†Ô∏è ERROR QUEUE</div>
                <div>Alerting & Monitoring ‚Ä¢ Retry Logic</div>
              </div>

              <div class="flow-arrow" style="color: #e74c3c;">‚Üì</div>

              <div class="flow-item flow-error">
                <div class="flow-item-title">üö® DEAD LETTER QUEUE</div>
                <div>Failed Record Storage ‚Ä¢ Manual Review Required</div>
              </div>
            </div>
          </div>

          <div class="flow-arrow">‚Üì [Scheduled Daily Job @ 2:00 AM]</div>

          <!-- Data Lake -->
          <div class="flow-item" style="border-color: #9b59b6;">
            <div class="flow-item-title">üìä ANALYTICS DATA LAKE</div>
            <div>Format: Parquet (Snappy Compressed ~70% reduction)</div>
            <div style="margin-top: 0.8rem;">
              <div class="tag">Partition: /year=YYYY/month=MM/</div>
              <div class="tag">Retention: Unlimited</div>
            </div>
          </div>

          <div class="flow-arrow">‚Üì</div>

          <!-- Consumption -->
          <div class="flow-item">
            <div class="flow-item-title">üìà CONSUMPTION LAYER</div>
            <div style="margin-top: 0.8rem;">
              <div class="tag">BI Dashboards</div>
              <div class="tag">ML Models</div>
              <div class="tag">External APIs</div>
            </div>
          </div>
        </div>
      </section>

      <!-- TASK B: TRANSFORMATION RULES -->
      <section class="section">
        <h2>Task B: Transformation Logic & Business Rules</h2>

        <h3>Category 1: Unit Standardization</h3>
        <table>
          <thead>
            <tr>
              <th>Rule ID</th>
              <th>Logic</th>
              <th>Rationale</th>
              <th>Example</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>B1.1</strong></td>
              <td>If <code>energy_unit</code> is "W", divide value by 1000 and set unit to "kW"</td>
              <td>Ensures consistent units for aggregation across all meters</td>
              <td>2500 W ‚Üí 2.5 kW</td>
            </tr>
            <tr>
              <td><strong>B1.2</strong></td>
              <td>Check <code>energy_unit</code> against allow-list: [W, kW, Watt, Kilowatt]</td>
              <td>Catches sensor misconfigurations early</td>
              <td>"Volts" ‚Üí Error</td>
            </tr>
            <tr>
              <td><strong>B1.3</strong></td>
              <td>Round standardized kW values to 4 decimal places</td>
              <td>Prevents floating-point precision errors in downstream sums</td>
              <td>2.49999 ‚Üí 2.5000</td>
            </tr>
          </tbody>
        </table>

        <h3>Category 2: Missing Value Handling</h3>
        <table>
          <thead>
            <tr>
              <th>Rule ID</th>
              <th>Logic</th>
              <th>Rationale</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>B2.1</strong></td>
              <td>If <code>energy_value</code> is NULL ‚Üí flag as <code>MISSING_READING</code>, set <code>is_valid_for_analytics = FALSE</code></td>
              <td>Maintains data lineage without skewing statistical calculations</td>
            </tr>
            <tr>
              <td><strong>B2.2</strong></td>
              <td>Infer timestamp based on sequence position (15-min intervals). Set <code>timestamp_imputed = TRUE</code></td>
              <td>Recovers record utility for partially corrupted time-series data</td>
            </tr>
            <tr>
              <td><strong>B2.3</strong></td>
              <td>If &gt;4 consecutive NULLs (&gt;1 hour) ‚Üí create alert, flag as <code>gap_period = TRUE</code></td>
              <td>Distinguishes between random packet loss and sustained connectivity issues</td>
            </tr>
          </tbody>
        </table>

        <h3>Category 3: Data Validation & Range Checks</h3>
        <table>
          <thead>
            <tr>
              <th>Rule ID</th>
              <th>Logic & Action</th>
              <th>Rationale</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>B3.1</strong></td>
              <td>Check: <code>0 &lt; consumption_kw &lt; 50 kW</code><br>Action: Flag <code>OUT_OF_RANGE</code> if violated</td>
              <td>Physical plausibility check. Negative values or household values &gt;50kW are errors</td>
            </tr>
            <tr>
              <td><strong>B3.2</strong></td>
              <td>If 0 kW for &gt;24 consecutive hours ‚Üí flag <code>EXTENDED_ZERO_CONSUMPTION</code></td>
              <td>Detects dead meters or tampering vs legitimate vacancies</td>
            </tr>
            <tr>
              <td><strong>B3.3</strong></td>
              <td>Reject if timestamp &gt; current_time + 5 min OR &lt; 2020-01-01</td>
              <td>Prevents "future" data or default/reset clock dates</td>
            </tr>
          </tbody>
        </table>

        <h3>Category 4: Faulty Meter Detection</h3>
        <div class="card">
          <p><strong>B4.1: Stuck Meter Detection</strong></p>
          <ul>
            <li>Logic: Same value (excluding 0) for &gt;12 consecutive readings</li>
            <li>Threshold: Variance &lt; 0.01 kW¬≤ over 24h window</li>
            <li>Action: Escalate to <code>faulty_meters</code> table</li>
          </ul>

          <p style="margin-top: 1rem;"><strong>B4.2: Erratic Spike Detection</strong></p>
          <ul>
            <li>Logic: Calculate rolling 7-day mean + std_dev</li>
            <li>Threshold: If reading &gt; mean + (4 √ó std_dev)</li>
            <li>Action: Flag <code>CONSUMPTION_SPIKE</code></li>
          </ul>

          <p style="margin-top: 1rem;"><strong>B4.3: Communication Failure</strong></p>
          <ul>
            <li>Logic: Track <code>missing_reading_counter</code> over 7 days</li>
            <li>Threshold: If missing rate &gt; 20%</li>
            <li>Action: Flag <code>FREQUENT_DROPOUTS</code></li>
          </ul>
        </div>

        <h3>Category 5: Data Enrichment</h3>
        <div class="card">
          <p><strong>B5.1: Peak Period Classification</strong></p>
          <div style="margin: 1rem 0;">
            <span class="tag tag-error">Peak: 17:00-21:00 (Weekdays)</span>
            <span class="tag">Off-Peak: 23:00-06:00</span>
            <span class="tag tag-success">Standard: All other times</span>
          </div>

          <p style="margin-top: 1rem;"><strong>B5.2: Seasonal Tagging</strong></p>
          <div style="margin: 1rem 0;">
            <span class="tag">Winter (Dec-Feb)</span>
            <span class="tag">Spring (Mar-May)</span>
            <span class="tag">Summer (Jun-Aug)</span>
            <span class="tag">Fall (Sep-Nov)</span>
          </div>

          <p style="margin-top: 1rem;"><strong>B5.3: Quality Scoring System</strong></p>
          <div class="code-block">
Starting Score: 0
+ 40 pts: No missing values
+ 30 pts: No validation errors
+ 20 pts: Within expected range
+ 10 pts: Meter reliability &gt;95%

<code>Grades: A (90-100) | B (75-89) | C (60-74) | F (&lt;60)</code>
          </div>
        </div>

        <h3>Category 6: Metadata Enhancement</h3>
        <div class="highlight-box">
          <p><strong>Rule B6.1 (Lineage):</strong> Append <code>processed_timestamp</code>, <code>pipeline_version</code>, and <code>source_file</code> to every record for complete traceability.</p>
          
          <p style="margin-top: 1rem;"><strong>Rule B6.2 (Idempotency):</strong> Generate unique ID: <code>record_id = SHA256(meter_id + timestamp + energy_value)</code> to prevent duplicate processing.</p>
        </div>
      </section>

      <!-- TASK C: LIFECYCLE -->
      <section class="section">
        <h2>Task C: Single Record Lifecycle</h2>

        <div class="card">
          <div class="highlight-title">Sample Record Journey</div>
          <div class="code-block">
meter_id: SM-48291
timestamp: 2024-03-15 18:45:00
energy_value: 3250 W
location: Residential_Zone_7
          </div>
        </div>

        <div class="phase-box phase-ingestion">
          <div class="phase-header">
            PHASE 1: INGESTION
            <div class="phase-time">18:45:00 - 18:45:03 (3 seconds)</div>
          </div>
          <ul>
            <li><strong>Step 1.1: File Upload (18:45:00)</strong><br>Meter transmits data via Wi-Fi. Batched into CSV: <code>readings_2024-03-15_1845_batch_142.csv</code>. Uploaded to <code>/raw-data/2024/03/15/</code></li>
            <li><strong>Step 1.2: Event Trigger (18:45:03)</strong><br>S3 Event <code>NEW_FILE_CREATED</code> fires. Orchestrator receives event within &lt;1 sec</li>
            <li><strong>Step 1.3: Initial Validation</strong><br>
              <span class="tag tag-success">File size: 245 KB ‚úì</span>
              <span class="tag tag-success">Extension: .csv ‚úì</span>
              <span class="tag tag-success">Duplicate check: ‚úì</span>
              <br>Result: <strong>PASSED</strong> ‚Üí route to transformation queue
            </li>
          </ul>
        </div>

        <div class="phase-box phase-transform">
          <div class="phase-header">
            PHASE 2: TRANSFORMATION
            <div class="phase-time">18:45:04 - 18:45:05 (1 second)</div>
          </div>
          <ul>
            <li><strong>Step 2.1: Queue Pickup (18:45:04)</strong><br>Worker downloads CSV and parses row 1,847 (our record)</li>
            <li><strong>Step 2.2: Business Rules Application</strong><br>
              <span class="tag tag-success">‚úÖ Rule B1.1: 3250 W ‚Üí 3.25 kW</span>
              <span class="tag tag-success">‚úÖ Rule B3.1: 0 &lt; 3.25 &lt; 50 kW (Valid)</span>
              <span class="tag tag-success">‚úÖ Rule B5.1: 18:45 ‚Üí PEAK period</span>
              <span class="tag tag-success">‚úÖ Rule B5.2: March 15 ‚Üí SPRING season</span>
              <span class="tag tag-success">‚úÖ Rule B6.2: Generated record_id = SHA256(...)</span>
            </li>
            <li><strong>Step 2.3: Quality Scoring</strong><br>
              Score: <strong>100/100</strong> ‚Üí <span class="tag tag-success">Grade: A</span>. Record marked <code>is_valid_for_analytics = TRUE</code>
            </li>
          </ul>
        </div>

        <div class="phase-box phase-storage">
          <div class="phase-header">
            PHASE 3: STRUCTURED STORAGE
            <div class="phase-time">18:45:05 - 18:45:06 (1 second)</div>
          </div>
          <ul>
            <li><strong>Step 3.1: Transaction Start</strong><br>Database connection established. Begin transaction</li>
            <li><strong>Step 3.2: Insert</strong><br>SQL INSERT executed for <code>meter_readings</code> table</li>
            <li><strong>Step 3.3: Idempotency Check</strong><br><code>ON CONFLICT DO NOTHING</code> prevents duplicate entry if file was re-sent</li>
            <li><strong>Step 3.4: Commit</strong><br>COMMIT at 18:45:05.8. Message acknowledged and removed from queue</li>
          </ul>
        </div>

        <div class="phase-box phase-archive">
          <div class="phase-header">
            PHASE 4: ARCHIVAL
            <div class="phase-time">Next Day @ 02:00 AM</div>
          </div>
          <ul>
            <li><strong>Step 4.1: Scheduled Aggregation</strong><br>Batch job queries all 4.8M readings from 2024-03-15</li>
            <li><strong>Step 4.2: Aggregation Logic</strong><br>SM-48291 Daily Stats: Total <strong>45.3 kWh</strong>, Peak <strong>3.25 kW</strong> (our record)</li>
            <li><strong>Step 4.3: Parquet Conversion</strong><br>Converted to columnar format with Snappy compression (~70% size reduction)</li>
            <li><strong>Step 4.4: Data Lake Upload</strong><br>Stored in <code>/analytics/year=2024/month=03/region=Zone7/</code>. Tier: Cold Storage</li>
          </ul>
        </div>

        <div class="phase-box phase-consume">
          <div class="phase-header">
            PHASE 5: CONSUMPTION & ANALYSIS
            <div class="phase-time">Ongoing</div>
          </div>
          <ul>
            <li><strong>Immediate (18:45:10):</strong> Visible on Operations Dashboard. Alert check: 3.25 kW vs 1.9 kW avg (1.71x). No alert triggered</li>
            <li><strong>Historical (Days Later):</strong> Data Science team loads Parquet file for Peak Demand Forecasting Model training</li>
            <li><strong>Business Intelligence:</strong> Executives view monthly consumption trends and regional patterns</li>
          </ul>
        </div>

        <h3>Failure Scenarios</h3>
        <table>
          <thead>
            <tr>
              <th>Scenario</th>
              <th>Handling Strategy</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>A: Transformation Fails</strong></td>
              <td>Worker out of memory. <strong>Retry Logic:</strong> 3 attempts with exponential backoff (2s, 4s, 8s). If all fail ‚Üí Move to <strong>Dead Letter Queue (DLQ)</strong> for manual review</td>
            </tr>
            <tr>
              <td><strong>B: DB Write Fails</strong></td>
              <td>Connection timeout. Transaction <strong>ROLLBACK</strong>. Message remains in queue. Another worker retries after 30s</td>
            </tr>
            <tr>
              <td><strong>C: Duplicate File</strong></td>
              <td>File hash matches processed list. Skipped. If re-processed, <strong>Idempotency Key</strong> (SHA256) hits DB constraint <code>ON CONFLICT DO NOTHING</code></td>
            </tr>
          </tbody>
        </table>
      </section>

      <!-- DESIGN PRINCIPLES -->
      <section class="section">
        <h2>Key Design Principles</h2>

        <div class="card">
          <h3>1. Separation of Concerns</h3>
          <p>Distinct layers for different data velocities and use cases:</p>
          <ul>
            <li><strong>Raw Storage (S3):</strong> Audit trail, immutable source of truth (90-day retention)</li>
            <li><strong>Structured DB (RDS):</strong> Operational/real-time queries, transactional workloads</li>
            <li><strong>Data Lake (Parquet):</strong> Analytical/batch processing, unlimited retention</li>
          </ul>
        </div>

        <div class="card">
          <h3>2. Idempotency & Reliability</h3>
          <p>The system is designed to handle failures gracefully:</p>
          <ul>
            <li>Unique <code>record_id</code> generation ensures re-processing doesn't create duplicates</li>
            <li>Database constraints (<code>ON CONFLICT DO NOTHING</code>) provide safety net</li>
            <li>Exponential backoff retry logic for transient failures</li>
            <li>Dead Letter Queue for permanent failures requiring human intervention</li>
          </ul>
        </div>

        <div class="card">
          <h3>3. Data Quality by Design</h3>
          <p>Quality is not an afterthought:</p>
          <ul>
            <li>Records are scored (Grade A-F) during transformation, not as separate step</li>
            <li>Invalid data is flagged rather than silently dropped, preserving lineage</li>
            <li>Comprehensive validation across 6 rule categories</li>
            <li>Quality metrics tracked in dedicated <code>data_quality_log</code> table</li>
          </ul>
        </div>

        <div class="card">
          <h3>4. Scalability Through Serverless</h3>
          <p>Event-driven architecture enables infinite scale:</p>
          <ul>
            <li>S3 Triggers + Lambda functions auto-scale based on incoming files</li>
            <li>No server capacity planning or management required</li>
            <li>Pay-per-use cost model (only charged when processing)</li>
            <li>Handles traffic spikes automatically without configuration changes</li>
          </ul>
        </div>

        <div class="card">
          <h3>5. Complete Observability</h3>
          <p>Comprehensive logging and monitoring at every stage:</p>
          <ul>
            <li>CloudWatch logs for ingestion, transformation, and load phases</li>
            <li>Dead Letter Queues ensure no data is lost silently</li>
            <li>Real-time alerting on quality degradation or system failures</li>
            <li>Data lineage tracking from source file to final analytics</li>
          </ul>
        </div>
      </section>

      <!-- AUTHOR -->
      <div class="author-section">
        <div class="author-name">Abdelrahman Gadallah</div>
        <div class="author-role">Data Engineer | System Architecture Designer</div>
      </div>

    </div>

    <footer>
      <p><strong>GreenStream Energy Strategic Initiative</strong></p>
      <p>December 2024 | Design Thinking for Data Scientists Framework</p>
    </footer>
</body>
</html>
